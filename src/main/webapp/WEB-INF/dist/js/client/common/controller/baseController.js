define("common/util",["jquery"],function(){function e(e){$.each(e,function(e,t){"string"==typeof t.el?$(document).on(t.event,t.el,t.handler):$(t.el).on(t.event,t.handler)})}function t(e){var t={},n=[];return e&&-1!==e.indexOf("?")?($.each(e.substr(e.indexOf("?")+1).split("&"),function(e,o){n=o.split("="),t[n[0]]=n[1]}),t):t}function n(e){e&&$.cookie("exsToken",e,{path:"/",expires:7})}function o(){return $.cookie("exsToken")}function a(){$.cookie("exsToken",null,{path:"/"})}function i(e){for(var t,n,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,r=e.length,c="";r>i;){if(t=255&e.charCodeAt(i++),i==r){c+=a.charAt(t>>2),c+=a.charAt((3&t)<<4),c+="==";break}if(n=e.charCodeAt(i++),i==r){c+=a.charAt(t>>2),c+=a.charAt((3&t)<<4|(240&n)>>4),c+=a.charAt((15&n)<<2),c+="=";break}o=e.charCodeAt(i++),c+=a.charAt(t>>2),c+=a.charAt((3&t)<<4|(240&n)>>4),c+=a.charAt((15&n)<<2|(192&o)>>6),c+=a.charAt(63&o)}return c}function r(e){var t,n=[];return $.each(e,function(e,o){t=o.replace(/ /g,""),""!=t&&n.push(t)}),n}function c(e,t){var n,o;switch(e){case"phone":n="^[1][358][0-9]{9}$";break;case"ifSpecial":n="^[a-zA-Z0-9一-龥]+$";break;case"email":n="[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,4}";break;default:n=""}return o=new RegExp(n),o.test(t)}function l(e,t){var n=arguments[2]||new Date;switch(e){case"s":n=new Date(n.getTime()+1e3*t);break;case"n":n=new Date(n.getTime()+6e4*t);break;case"h":n=new Date(n.getTime()+36e5*t);break;case"d":n=new Date(n.getTime()+864e5*t);break;case"w":n=new Date(n.getTime()+6048e5*t);break;case"m":n=new Date(n.getFullYear(),n.getMonth()+t,n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds());break;default:n=new Date(n.getFullYear()+t,n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds())}return n=n.getTime()>=(new Date).getTime()?new Date:n,[n.getFullYear(),n.getMonth()+1,n.getDate()].join("/")}function d(e,t){var n=t,o=["日","一","二","三","四","五","六"];return n=n.replace(/yy/,e.getFullYear()),n=n.replace(/y/,e.getYear()%100>9?(e.getYear()%100).toString():"0"+e.getYear()%100),n=n.replace(/mm/,e.getMonth()>=9?(e.getMonth()+1).toString():"0"+(e.getMonth()+1)),n=n.replace(/m/g,e.getMonth()+1),n=n.replace(/w|W/g,o[e.getDay()]),n=n.replace(/dd/,e.getDate()>9?e.getDate().toString():"0"+e.getDate()),n=n.replace(/d/g,e.getDate()),n=n.replace(/hh/,e.getHours()>9?e.getHours().toString():"0"+e.getHours()),n=n.replace(/h/g,e.getHours()),n=n.replace(/mm/,e.getMinutes()>9?e.getMinutes().toString():"0"+e.getMinutes()),n=n.replace(/m/g,e.getMinutes()),n=n.replace(/ss/,e.getSeconds()>9?e.getSeconds().toString():"0"+e.getSeconds()),n=n.replace(/s/g,e.getSeconds())}return{bindEvents:e,getUrlParams:t,setToken:n,getToken:o,removeToken:a,base64Encode:i,trims:r,checkRagular:c,timeInterval:l,dateFormat:d}}),define("common/dom",["jquery"],function(e){function t(t,n){var o='<div class="overlay"></div>';e("body").append(o);var t=e(t),i=a[n],r=t.find(".js-placeholder");r.length&&r.remove(),t.prepend(i)}function n(t){var t=e(t);e(".overlay").remove(),t.find(".js-placeholder").remove()}function o(t){var n='<form id="'+t.formId+'" class="hidden" method="post">',o="",a="";return e.each(t.selectList,function(i,r){for(var c=0;c<t.fields.length;c++)o=t.inputName+"["+i+"]."+t.fields[c],a=e(this).data(t.fields[c].toLowerCase()),"undefined"==typeof a&&(a=""),n+='<input name="'+o+'" value="'+a+'" />'}),n+="</form>"}var a={"loading-large":'<div class="js-placeholder loading-large loading-pos"><div class="vertical-center"><img class="loading-img" src="../../img/loading_48.gif" /><p>数据加载中，请稍后</p></div></div>',"empty-data":'<div class="js-placeholder empty-data loading-pos"><div class="vertical-center"><img class="loading-img" src="../../img/empty_data.png" /><p><span class="major">唔，未找到任何数据</span> 您还可以看看其它行情哦，或者稍后再试</p></div></div>',"loading-error":'<div class="js-placeholder loading-error loading-pos"><div class="vertical-center"><img class="loading-img" src="../../img/loading_error.png" /><p>哎呀，似乎网络开小差了</p></div></div>',"wechatloading-large":'<div class="js-placeholder exception loading-large"><div class="vertical-center"><div class="preloader"></div><p>努力加载中...</p></div></div>',"wechatempty-data":'<div class="js-placeholder exception empty-data"><div class="nodata"><img src="../../img/nodata.png" width="46%" height="auto"/><p>唔，未找到任何数据！</p><span>您还可以看看其它行情哦，或者稍后再试。</span></div></div>',"wechatloading-error":'<div class="js-placeholder exception loading-error"><span class="icon-error"></span>加载失败，请稍后再试！</div>'};return{showPlaceholder:t,removePlaceholder:n,generateDldForm:o}}),define("common/http",["jquery","layer1","common/util","common/dom"],function(e,t,n,o){function a(n){var a=e.extend({},c,n);return a.actionConfig&&(a.beforeSend=function(){o.showPlaceholder(a.actionConfig.dom,a.actionConfig.type)}),a.url=i(n.url),a.success=function(e){return a.actionConfig&&o.removePlaceholder(a.actionConfig.dom),a.actionConfig&&"200"!=e.status?void o.showPlaceholder(a.actionConfig.dom,a.actionConfig.type):void setTimeout(function(){n.success&&n.success(e)},400)},a.error=function(e,i,r){return 401===e.status?(t.open({content:"您尚未登录或登录时间过长,请重新登录!",icon:3,title:"登录提示",yes:function(){window.location.href=window.__NOTEBOOK__.root_url},end:function(){t.closeAll()}}),!0):(a.actionErrorConfig&&o.showPlaceholder(a.actionErrorConfig.dom,a.actionErrorConfig.type),void(n.error&&n.error(e,i,r)))},a.serializable&&(a.contentType="application/json",a.data=JSON.stringify(a.data)),a}function i(t){var n={_t:(new Date).getTime()},o=/\?/gi.test(t)?"&":"?";return t+o+e.param(n)}function r(t){var n=e.ajax(a(t));return n}t.config({path:"/js/lib/layer/"});var c={async:!0,dataType:"json",type:"get",serializable:!1};return{httpRequest:r}}),define("client/common/model/baseModel",["common/http"],function(e){function t(t){e.httpRequest({url:window.__NOTEBOOK__.root_url+"person/feedback/add",type:"post",data:t.data,success:function(e){t.callBack(e)},error:t.error})}return{addFeedback:t}}),+function(e){"function"==typeof define&&define.amd?define("common/backToTop",["jquery"],e):e($)}(function(e){"use strict";function t(t){try{e("body").append(n),t.showDistance=t.showDistance||100,t.fadeTime=t.fadeTime||300,t.scrollTime=t.scrollTime||200;var o=function(){e(window).scrollTop()>t.showDistance?e("#"+t.domId).fadeIn(t.fadeTime):e("#"+t.domId).fadeOut(t.fadeTime)};o(),e(window).scroll(function(){o()}),e("#"+t.domId).click(function(){return e("body,html").animate({scrollTop:0},t.scrollTime),!1})}catch(a){}}var n='<p id="back-to-top"><a href="javascript:void(0)">顶部</a></p>';t({domId:"back-to-top",showDistance:100,fadeTime:300,scrollTime:200})}),define("client/common/view/baseView",["client/common/model/baseModel","common/util","layer1","jquery.validate","common/backToTop"],function(e,t,n){function o(){a(),i()}function a(){t.bindEvents([{el:".log-out",event:"click",handler:d},{el:"#tickling",event:"click",handler:function(){$("#js-user").val()?r():top.location=window.__NOTEBOOK__.root_url+"client/tologin"}},{el:"#js-myNote",event:"click",handler:function(){$("#js-user").val()?top.location=window.__NOTEBOOK__.root_url+"person/note/list":top.location=window.__NOTEBOOK__.root_url+"client/tologin?ref=person"}}])}function i(){$("#back-to-top").before('<p id="tickling">反馈</p>')}function r(){n.open({skin:"tickling",type:0,title:"意见反馈",area:["476px","320px"],content:'<form id="validate"><textarea id="feedback" maxlength="1000" name="feedback" style="width: 430px;height: 155px;"></textarea><br><div id="info-position"></div></form>',btn:["确定","取消"],yes:function(){l()&&c($("#feedback").val())}})}function c(t){e.addFeedback({data:{content:t},callBack:function(e){n.closeAll(),n.msg("反馈成功",{icon:1})},error:function(e){n.msg("反馈失败，请重试",{icon:2})}})}function l(){return $("#validate").validate({errorPlacement:function(e,t){e.appendTo($("#info-position"))},rules:{feedback:{required:!0}},messages:{feedback:{required:"请输入反馈内容！"}}}).form()}function d(){n.confirm("您确定要退出吗？",{icon:3,btn:["确定","取消"]},function(){window.location.href=window.__NOTEBOOK__.root_url+"client/logout"})}return n.config({path:"/js/lib/layer/"}),{init:o}}),require(["client/common/view/baseView"],function(e){e.init()}),define("client/common/controller/baseController",function(){});